<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<title>Infragistics jQuery Client Editors - Common </title>
	<meta charset="UTF-8" />
	<link type="text/css" href="../../../../src/css/themes/infragistics/infragistics.theme.css" rel="stylesheet" />
	<link type="text/css" href="../../../../src/css/structure/modules/infragistics.ui.shared.css" rel="stylesheet" />
	<link type="text/css" href="../../../../src/css/structure/modules/infragistics.ui.popover.css" rel="stylesheet" />
	<link type="text/css" href="../../../../src/css/structure/modules/infragistics.ui.notifier.css" rel="stylesheet" />
	<link type="text/css" href="../../../../src/css/structure/modules/infragistics.ui.editors.css" rel="stylesheet" />
	<!-- 	
	<script type="text/javascript" src="../../../../bower_components/jquery/dist/jquery.js"></script>
	<script type="text/javascript" src="../../../../bower_components/jquery-ui/jquery-ui.js"></script> -->

	<script type="text/javascript" src="../../../../src/js/modules/i18n/infragistics.ui.popover-en.js"></script>
	<script type="text/javascript" src="../../../../src/js/modules/i18n/infragistics.ui.notifier-en.js"></script>
	<script type="text/javascript" src="../../../../src/js/modules/i18n/infragistics.ui.editors-en.js"></script>

	<script type="text/javascript" src="../../../../src/js/modules/infragistics.util.js"></script>
	<script type="text/javascript" src="../../../../src/js/modules/infragistics.util.jquery.js"></script>
	<script type="text/javascript" src="../../../../src/js/modules/infragistics.ui.widget.js"></script>
	<script type="text/javascript" src="../../../../src/js/modules/infragistics.ui.popover.js"></script>
	<script type="text/javascript" src="../../../../src/js/modules/infragistics.ui.notifier.js"></script>
	<script type="text/javascript" src="../../../../src/js/modules/infragistics.ui.editors.js"></script>

	<link type="text/css" href="../../../../bower_components/qunit/qunit/qunit.css" rel="stylesheet" media="screen" />
	<script type="text/javascript" src="../../../../bower_components/qunit/qunit/qunit.js"></script>

	<script type="text/javascript">
		QUnit.module("igCheckboxEditor unit tests", {
			labelTag: '<label></label>',
			divTag: '<div></div>',
			spanTag: '<span></span>',
			inputTag: '<input></input>',
			label1Selector: "label1",
			chkInput1Selector: "chkInput1",
			label2Selector: "label2",
			chkInput2Selector: "chkInput2",
			label3Selector: "label3",
			chkInput3Selector: "chkInput3",
			chkContainerSelector: "chkContainer",
			chkSpanSelector: "chkSpan",
			chkLabelSelector: "chkLabel",
			chkInputcheSelector: "chkInputche",
			chkStyledSelector: "chkStyled",
			chkAttrSelector: "chkAttr",
			chkNullSelector: "chkNull",

			beforeEach: function () {
				$qunitFixture = $('#qunit-fixture');
				$qunitFixture.append($("<label></label>").attr({
					id: this.label1Selector,
					for: this.chkInput1Selector
				}).text("Label 1"));
				$qunitFixture.append($("<input></input>").attr("id", this.chkInput1Selector));
				$qunitFixture.append($("<label></label>").attr({
					id: this.label2Selector,
					for: this.chkInput2Selector
				}).text("Label 2"));
				$qunitFixture.append($("<input></input>").attr({
					id: this.chkInput2Selector,
					type: "checkbox"
				}));
				$qunitFixture.append($("<label></label>").attr({
					id: this.label3Selector,
					for: this.chkInput3Selector
				}).text("Label 3"));
				$qunitFixture.append($("<input></input>").attr({
					id: this.chkInput3Selector,
					"aria-labelledby": this.label3Selector
				}));
				$qunitFixture.append($("<div></div>").attr("id", this.chkContainerSelector));
				$qunitFixture.append($("<span></span>").attr("id", this.chkSpanSelector));
				$qunitFixture.append($("<label></label>").attr("id", this.chkLabelSelector));
				$qunitFixture.append($("<input></input>").attr("id", this.chkInputcheSelector));
				$qunitFixture.append($("<input></input>").attr("id", this.chkStyledSelector));
				$qunitFixture.append($("<span></span>").attr({
					id: this.chkAttrSelector,
					name: "name1",
					value: "value1",
					checked: "checked",
					readonly: "readonly",
					disabled: "disabled",
					"aria-labelledby": "aria-labelledby"
				}));
				$qunitFixture.append($("<input></input>").attr("id", this.chkNullSelector));

				$(this.id(this.chkInput1Selector)).igCheckboxEditor({
					tabIndex: 2
				});
				$(this.id(this.chkInput2Selector)).igCheckboxEditor();
				$(this.id(this.chkInput3Selector)).igCheckboxEditor({
					value: "accpetedRules",
					valueChanged: function (evt, ui) {
						// t/f	t/f value
						$("#chkInput3Row > td").eq(0).text(ui.owner._valueInput[0].checked);
						$("#chkInput3Row > td").eq(1).text(ui.newState);
						$("#chkInput3Row > td").eq(2).text(ui.newValue);
					}

				});
				$(this.id(this.chkContainerSelector)).igCheckboxEditor({
					checked: true,
					value: "Agree",
					inputName: "agree",
					tabIndex: 1
				});
				$(this.id(this.chkSpanSelector)).igCheckboxEditor();
				$(this.id(this.chkInputcheSelector)).igCheckboxEditor({
					width: 64,
					height: 48,
					tabIndex: 0,
					valueChanging: function (evts, args) {
						return false;
					}
				});

				$(this.id(this.chkStyledSelector)).igCheckboxEditor({
					iconClass: "ui-icon-close",
					checked: true
				});
				$(this.id(this.chkAttrSelector)).igCheckboxEditor();
				$(this.id(this.chkNullSelector)).igCheckboxEditor();
			},
			afterEach: function () {},
			id: function (selector) {
				return "#" + selector;
			},

			addElementById: function (params) {
				if (params === null || (params instanceof Array) === false)
					return null;

				var id = params[0],
					elementType = params[1],
					$qunitFixture = $('#qunit-fixture'),
					$element;

				if (id === null || elementType === null)
					return null;

				$element = $(elementType);
				if ($element === null)
					return;

				$element.attr("id", id);
				$qunitFixture.append($element);
				return $element;
			}
		});

		QUnit.test('[ID1] Checkbox Editor initialization.', function (assert) {
			var checkBoxInInputSelector = 'checkBoxInInput',
				$chkLabel = this.addElementById(['labelForCheckBoxInDiv', this.labelTag]),
				$chkInInput = this.addElementById([checkBoxInInputSelector, this.inputTag]),
				$chkInDiv = this.addElementById(['checkBoxInDivSpcial', this.divTag]),
				$chkInSpan = this.addElementById(['checkBoxInSpan', this.spanTag]);

			$chkLabel.attr('for', checkBoxInInputSelector).text("Label 1");
			$chkInInput.igCheckboxEditor();
			$chkInDiv.igCheckboxEditor({
				checked: true,
				value: "Agree",
				inputName: "agree",
				tabIndex: 1
			});
			$chkInSpan.igCheckboxEditor();

			assert.expect(9);
			assert.equal(typeof ($chkInInput.igCheckboxEditor), 'function', "Editors Scripts not loaded");
			assert.notStrictEqual($chkInDiv.data("igCheckboxEditor"), undefined, 'Error creating igCheckboxEditor in a DIV');
			assert.notStrictEqual($chkInInput.data("igCheckboxEditor"), undefined,
				'Error creating igCheckboxEditor in an INPUT');
			assert.notStrictEqual($chkInSpan.data("igCheckboxEditor"), undefined, 'Error creating igCheckboxEditor in a SPAN');
			assert.equal($chkInInput.attr("type"), "checkbox", 'Type of igCheckboxEditor is not checkbox');
			assert.throws(function () {
					$chkLabel.igCheckboxEditor();
				},
				Error($.ig.Editor.locale.instantiateCheckBoxErrMsg),
				"igCheckboxEditor requires a different element. Use INPUT, SPAN or DIV element."
			);
			assert.equal($chkInInput.data("igCheckboxEditor")._valueInput.attr("type"), "checkbox",
				'Type of igCheckboxEditor is not checkbox');
			assert.equal($chkInDiv.data("igCheckboxEditor")._valueInput.attr("type"), "checkbox",
				'Type of igCheckboxEditor is not checkbox');
			assert.equal($chkInDiv.igCheckboxEditor("inputName"), "agree", 'Input name shoud be set');
		});

		QUnit.test('[ID2] Check for stlye', function (assert) {
			var $chkInInput = this.addElementById(['checkBoxInInput', this.inputTag]),
				$chkInDiv = this.addElementById(['checkBoxInDivSpcial', this.divTag]),
				css;

			$chkInInput.igCheckboxEditor();
			$chkInDiv.igCheckboxEditor({
				checked: true,
				value: "Agree",
				inputName: "agree",
				tabIndex: 1
			});
			css = $chkInDiv.data("igCheckboxEditor").css

			assert.expect(12);
			assert.ok($chkInDiv.hasClass(css.containerChecked), "Checked container style not applied");
			assert.ok($chkInDiv.hasClass(css.container.split(" ")[0]), "Container classes not applied");
			assert.ok($chkInDiv.hasClass(css.container.split(" ")[1]), "Container classes not applied");
			assert.ok($chkInDiv.hasClass(css.container.split(" ")[2]), "Container classes not applied");
			$chkInDiv.mouseover();
			assert.ok($chkInDiv.hasClass(css.hover), "Hover class not applied");
			$chkInDiv.mousedown();
			assert.ok($chkInDiv.hasClass(css.active), "Active class not applied");
			assert.ok($chkInDiv.igCheckboxEditor("editorContainer").hasClass(css.focus), "Focus class not applied");
			assert.ok($chkInDiv.hasClass(css.containerChecked), "Checked class not applied on the container");
			$chkInDiv.mouseup();
			$chkInDiv.mouseout();

			$chkInDiv.igCheckboxEditor("toggle");
			assert.ok(!$chkInDiv.hasClass(css.containerChecked), "Checked class not removed form the container");
			$chkInDiv.igCheckboxEditor("toggle");

			$chkInInput.mouseover();
			assert.ok($chkInInput.data("igCheckboxEditor")._editorContainer.hasClass(css.hover), "Hover class not applied");
			$chkInInput.mousedown();
			assert.ok($chkInInput.data("igCheckboxEditor")._editorContainer.hasClass(css.active), "Active class not applied");
			assert.ok($chkInInput.data("igCheckboxEditor")._editorContainer.hasClass(css.focus), "Focus class not applied");
			$chkInInput.mouseup();
			$chkInInput.mouseout();
		});

		QUnit.test('[ID3] Check for checked', function (assert) {
			var $chkInInput = this.addElementById(['checkBoxInInput', this.inputTag]),
				$chkInDiv = this.addElementById(['checkBoxInDivSpcial', this.divTag]),
				$chkInSpan = this.addElementById(['checkBoxInSpan', this.spanTag]);

			$chkInInput.igCheckboxEditor();
			$chkInDiv.igCheckboxEditor({
				checked: true,
				value: "Agree",
				inputName: "agree",
				tabIndex: 1
			});
			$chkInSpan.igCheckboxEditor();

			assert.expect(15);
			assert.ok(isChecked($chkInInput, false), 'The initial value is not as expexted');
			assert.ok(isChecked($chkInDiv, "Agree", true), 'The initial value is not as expexted');
			assert.ok(isValueChanged($chkInDiv, "Agree"), 'The value attribute is not as expected');
			$chkInDiv.igCheckboxEditor("option", "value", "Don't agree");
			assert.ok(isValueChanged($chkInDiv, "Don't agree"), 'The value attribute is not as expected');
			$chkInInput.click();
			assert.ok(isChecked($chkInInput, true), 'The value is not updated properly');
			$chkInInput.click().click().click().click().click().blur().click().click();
			assert.ok(isChecked($chkInInput, false), 'The value is not updated properly');
			$chkInInput.igCheckboxEditor("toggle");
			assert.ok(isChecked($chkInInput, true), 'The value after toggle is not updated correctly');
			$chkInInput.igCheckboxEditor("toggle");
			assert.ok(isChecked($chkInInput, false), 'The value after toggle is not updated correctly');
			$chkInDiv.igCheckboxEditor("value", false);
			assert.ok(isValueChanged($chkInDiv, false), 'The value after toggle is not updated correctly');
			// Set the value as string
			$chkInDiv.igCheckboxEditor("value", "true");
			assert.ok(isValueChanged($chkInDiv, "true"), 'The value after toggle is not updated correctly');
			$chkInDiv.igCheckboxEditor("value", "false");
			$chkInInput.igCheckboxEditor("value", true);
			assert.ok(isChecked($chkInInput, true), 'The value is not updated properly');
			assert.throws(function () {
					$chkInInput.igCheckboxEditor("value", "fail");
				},
				Error($.ig.Editor.locale.cannotParseNonBoolValue),
				"igCheckboxEditor acepted wrong value."
			);
			assert.ok(isChecked($chkInInput, true), 'The value is not updated properly');
			fireKeyEvent($chkInInput, 32);
			assert.ok(isChecked($chkInInput, false), 'The value is not updated properly');
			assert.equal($chkInSpan.igCheckboxEditor("field").attr("id"), $chkInSpan.attr("id"),
				"editorInput is equal to the input");
		});

		QUnit.test('[ID4] Check width/height', function (assert) {
			var $chkInInput = this.addElementById(['checkBoxInInput', this.inputTag]),
				$chkInDiv = this.addElementById(['checkBoxInDivSpcial', this.divTag]),
				css;

			$chkInInput.igCheckboxEditor({
				width: 64,
				height: 48,
			});
			$chkInDiv.igCheckboxEditor({
				checked: true,
				value: "Agree",
				inputName: "agree",
				tabIndex: 1
			});
			css = $chkInDiv.data("igCheckboxEditor").css

			assert.expect(7);
			// Default stlye from CSS
			assert.equal($chkInDiv.igCheckboxEditor("editorContainer").css("width"), "16px", "Width is not correct");
			assert.equal($chkInDiv.igCheckboxEditor("editorContainer").css("height"), "16px", "Height is not correct");

			$chkInDiv.igCheckboxEditor("option", "width", 32);
			$chkInDiv.igCheckboxEditor("option", "height", 32);
			assert.equal($chkInDiv.igCheckboxEditor("editorContainer").css("width"), "32px", "Width is not correct");
			assert.equal($chkInDiv.igCheckboxEditor("editorContainer").css("height"), "32px", "Height is not correct");
			assert.ok($chkInDiv.igCheckboxEditor("field").hasClass(css.iconCentered), "Style is not applied");

			// Style set from the options
			assert.equal($chkInInput.igCheckboxEditor("editorContainer").css("width"), "64px", "Width is not correct");
			assert.equal($chkInInput.igCheckboxEditor("editorContainer").css("height"), "48px", "Height is not correct");
		});

		QUnit.test('[ID5] Disabled/readonly and other options and methods', function (assert) {
			var $chkInDiv = this.addElementById(['checkBoxInDivSpcial', this.divTag]),
				$chkInSpan = this.addElementById(['checkBoxInSpan', this.spanTag]),
				$chkInSpanWithAttr = this.addElementById(['checkBoxInSpanWithAttr', this.spanTag]);

			$chkInDiv.igCheckboxEditor({
				checked: true,
				value: "Agree",
				inputName: "agree",
				tabIndex: 1
			});
			$chkInSpan.igCheckboxEditor();
			$chkInSpanWithAttr.igCheckboxEditor({
				checked: "checked",
				readonly: "readonly",
				disabled: "disabled",
				"aria-labelledby": "aria-labelledby"
			});

			assert.expect(7);

			$chkInDiv.igCheckboxEditor("option", "readOnly", true);
			$chkInDiv.click();
			assert.ok(isChecked($chkInDiv, "Agree", true), 'Read only should not allow the value to changed');
			$chkInDiv.igCheckboxEditor("option", "readOnly", false);

			$chkInDiv.igCheckboxEditor("option", "disabled", true);
			assert.ok(isDisabled($chkInDiv, true), 'The checkbox is not disabled');
			$chkInDiv.igCheckboxEditor("option", "disabled", false);
			$chkInDiv.igCheckboxEditor("option", "disabled", false); // Set the same value in order to have coverage
			assert.ok(isDisabled($chkInDiv, false), 'The checkbox is not enabled');
			$chkInDiv.igCheckboxEditor("option", "fake", false); // Set fake value in order to have coverage
			$chkInDiv.igCheckboxEditor("inputName", "notagree");
			assert.equal($chkInDiv.igCheckboxEditor("inputName"), "notagree", 'Input name is not changed');

			$chkInSpan.igCheckboxEditor("option", "checked", false);
			$chkInSpan.igCheckboxEditor("option", "size", "large");
			$chkInSpan.igCheckboxEditor("option", "checked", true);
			assert.equal($chkInSpan.igCheckboxEditor("value"), true, "Not checked");
			assert.ok($chkInSpan.data("igCheckboxEditor")._editorInput.hasClass("ui-igcheckbox-large-on"),
				"Large style not applied");
			$chkInSpanWithAttr.igCheckboxEditor("option", "disabled", false);
			$chkInSpanWithAttr.click();
			assert.ok($chkInSpanWithAttr.igCheckboxEditor("option", "checked", true), "Should stay as checked");
		});

		QUnit.test('[ID6] Check styled properties', function (assert) {
			var $chkInInputStyled = this.addElementById(['checkBoxInInputStyled', this.spanTag]);
			$($chkInInputStyled).igCheckboxEditor({
				iconClass: "ui-icon-close",
				checked: true
			});

			assert.expect(2);
			assert.ok($chkInInputStyled.data("igCheckboxEditor")._editorInput.hasClass("ui-icon-close"),
				"Close icon not applied");
			$chkInInputStyled.igCheckboxEditor("option", "iconClass", "ui-icon-plus");
			assert.ok($chkInInputStyled.data("igCheckboxEditor")._editorInput.hasClass("ui-icon-plus"),
				"Plus icon not applied");
		});

		QUnit.test('[ID7] Check events', function (assert) {
			var $chkInSpan = this.addElementById(['checkBoxInSpan', this.spanTag]);

			$chkInSpan.igCheckboxEditor({
				valueChanging: function (evts, args) {
					return false;
				}
			});

			$chkInSpan.click();
			assert.ok(isChecked($chkInSpan, false),
				'The value should not be checked, cause the valueChanging event is canceled');
		});

		QUnit.test('[ID8] Check destroy', function (assert) {
			var $chkInInput = this.addElementById(['checkBoxInInput', this.divTag]),
				$chkInSpan = this.addElementById(['checkBoxInSpan', this.spanTag]),
				$chkInSpanWithAttr = this.addElementById(['checkBoxInSpanWithAttr', this.spanTag]);

			$chkInInput.igCheckboxEditor();
			$chkInSpan.igCheckboxEditor();
			$chkInSpanWithAttr.attr({
				name: "name1",
				value: "value1",
				checked: "checked",
				readonly: "readonly",
				disabled: "disabled",
				"aria-labelledby": "aria-labelledby"
			});
			$chkInSpanWithAttr.igCheckboxEditor();

			assert.expect(11);

			// Put some wrong value to the true/false values and expect an exception
			assert.throws(function () {
					$chkInInput.igCheckboxEditor("value", "fail");
				},
				Error($.ig.Editor.locale.cannotParseNonBoolValue),
				"igCheckboxEditor acepted wrong value."
			);

			$chkInSpan.igCheckboxEditor("destroy");
			$chkInInput.igCheckboxEditor("destroy");
			assert.equal($chkInSpan.data("igCheckboxEditor"), undefined, 'Error destroying igCheckboxEditor in an input');
			assert.equal($chkInInput.data("igCheckboxEditor"), undefined, 'Error destroying igCheckboxEditor in a div');
			$._data($chkInSpan[0], "events");
			$._data($chkInInput[0], "events");
			assert.ok($chkInSpan.attr("class") === undefined, "Some classes are still not removed");
			assert.ok($chkInInput.attr("class") === undefined, "Some classes are still not removed");

			// Are the attributes recovered
			$chkInSpanWithAttr.igCheckboxEditor("destroy");
			assert.equal($chkInSpanWithAttr.attr("name"), "name1", "Attr is not recovered after destroying");
			assert.equal($chkInSpanWithAttr.attr("value"), "value1", "Attr is not recovered after destroying");
			assert.equal($chkInSpanWithAttr.attr("checked"), "checked", "Attr is not recovered after destroying");
			assert.equal($chkInSpanWithAttr.attr("readonly"), "readonly", "Attr is not recovered after destroying");
			assert.equal($chkInSpanWithAttr.attr("disabled"), "disabled", "Attr is not recovered after destroying");
			assert.equal($chkInSpanWithAttr.attr("aria-labelledby"), "aria-labelledby",
				"Attr is not recovered after destroying");
		});

		QUnit.test('[ID9] Check label click support', function (assert) {

			var checkBoxInInput1 = 'checkBoxInInput1',
				$chkLabel1 = this.addElementById([label1, this.labelTag]),
				$chkInInput1 = this.addElementById([checkBoxInInput1, this.inputTag]),
				checkBoxInInput2 = 'checkBoxInInput2',
				$chkLabel2 = this.addElementById([label2, this.labelTag]),
				$chkInInput2 = this.addElementById([checkBoxInInput2, this.inputTag]);

			$chkLabel1.attr('for', checkBoxInInput1).text("Label 1");
			$chkInInput1.igCheckboxEditor();
			$chkLabel2.attr('for', checkBoxInInput2).text("Label 2");
			$chkInInput2.igCheckboxEditor({
				value: "accpetedRules"
			});

			assert.expect(8);

			// state == value, state != internal
			click($chkLabel1[0]); // only native click works for labels
			assert.ok(isChecked($chkInInput1, true, true), 'Clicking the label did not toggle the ckeckbox');
			assert.strictEqual($chkInInput1.data("igCheckboxEditor")._valueInput[0].checked, true,
				"Internal input checked was modified incorrectly without explicit value!");

			click($chkLabel1[0]);
			assert.ok(isChecked($chkInInput1, false, false), 'Clicking the label did not toggle the ckeckbox');
			assert.strictEqual($chkInInput1.data("igCheckboxEditor")._valueInput[0].checked, true,
				"Internal input checked was modified incorrectly without explicit value!");

			// state != value, state == internal
			click($chkLabel2[0]); // only native click works for labels
			assert.ok(isChecked($chkInInput2, "accpetedRules", true), 'Clicking the label did not toggle the ckeckbox');
			assert.strictEqual($chkInInput2.data("igCheckboxEditor")._valueInput[0].checked, true,
				"Internal input checked was modified incorrectly without explicit value!");

			click($chkLabel2[0]);
			assert.ok(isChecked($chkInInput2, "accpetedRules", false), 'Clicking the label did not toggle the ckeckbox');
			assert.strictEqual($chkInInput2.data("igCheckboxEditor")._valueInput[0].checked, false,
				"Internal input checked was modified incorrectly without explicit value!");
		});

		QUnit.test('[ID10] Check focus using the focus API', function (assert) {
			var done = assert.async(),
				$chkInInput = this.addElementById(['checkBoxInInput', this.inputTag]),
				$chkInInputStyled = this.addElementById(['checkBoxInInputStyled', this.spanTag]),
				css;

			$chkInInput.igCheckboxEditor();
			$chkInInputStyled.igCheckboxEditor({
				iconClass: "ui-icon-close",
				checked: true
			});
			css = $chkInInputStyled.data('igCheckboxEditor').css;

			assert.expect(5);
			$chkInInputStyled.igCheckboxEditor("setFocus");
			assert.ok($chkInInputStyled.igCheckboxEditor("editorContainer").hasClass(css.focus), "Focus class not applied");
			assert.ok($(document.activeElement).html() === $chkInInputStyled.igCheckboxEditor("editorContainer").html(),
				"Focus class not applied");
			$chkInInput.igCheckboxEditor("setFocus");
			assert.ok($chkInInput.igCheckboxEditor("editorContainer").hasClass(css.focus), "Focus class not removed");

			$chkInInput.igCheckboxEditor("option", "checked", true);
			$chkInInput.igCheckboxEditor("setFocus", 500);
			assert.ok(!$chkInInput.igCheckboxEditor("editorContainer").hasClass(css.focus),
				"Focus class should not be still applied");
			setTimeout(function () {
				assert.ok($chkInInput.igCheckboxEditor("editorContainer").hasClass(css.focus), "Focus class should be applied");
				$chkInInput.remove();
				done();
			}, 500);
		});

		QUnit.test('[ID11] Check exception when setting null', function (assert) {
			var $chkInSpan = this.addElementById(['checkBoxInSpan', this.spanTag]);
			$chkInSpan.igCheckboxEditor();

			assert.expect(1);

			assert.throws(
				function () {
					$chkInSpan.igCheckboxEditor("value", null);
				},
				Error($.ig.Editor.locale.cannotSetNonBoolValue),
				$.ig.Editor.locale.cannotSetNonBoolValue);
		});

		QUnit.test('[ID12]Testing key code event arguments', function (assert) {
			var done = assert.async(),
				$chkIninput = this.addElementById(['checkBoxInInput', this.inputTag]),
				keyD,
				keyP,
				keyU;

			$chkIninput.igCheckboxEditor({
				keydown: function (e, args) {
					keyD = args.key;
				},
				keypress: function (e, args) {
					keyP = args.key;
				},
				keyup: function (e, args) {
					keyU = args.key;
				}
			});

			fireKeyEvent($chkIninput, 32);
			
			assert.expect(3);
			setTimeout(function () {
				assert.ok(keyD === 32, "Key code is not correct in keyDown event");
				assert.ok(keyP === 32, "Key code is not correct in keyPress event");
				assert.ok(keyU === 32, "Key code is not correct in keyUp event");
				$chkInInput.remove();
				done();
			}, 300);
		});

		function isChecked($input, expectedValue, expectedState) {
			var one = $input.igCheckboxEditor("value") === expectedValue;
			var two = $input.data("igCheckboxEditor").options.checked === (expectedState !== undefined ? expectedState :
				expectedValue);
			return $input.igCheckboxEditor("value") === expectedValue &&
				$input.data("igCheckboxEditor").options.checked === (expectedState !== undefined ? expectedState : expectedValue);
		}

		function isValueChanged($input, expectedValue) {
			return $input.igCheckboxEditor("option", "value") === expectedValue &&
				$input.data("igCheckboxEditor").options.value === expectedValue;
		}

		function isDisabled($input, expectedValue) {
			return $input.igCheckboxEditor("option", "disabled") === expectedValue &&
				$input.data("igCheckboxEditor").options.disabled === expectedValue &&
				$input.data("igCheckboxEditor")._editorInput.prop("disabled") === expectedValue;
		}

		function fireKeyEvent(chk, keyCode) {
			var e = jQuery.Event("keydown");
			e.keyCode = keyCode;
			e.which = keyCode; // Press Space
			chk.trigger(e);
			e = jQuery.Event("keypress");
			e.keyCode = keyCode;
			e.which = keyCode;
			chk.trigger(e);
			e = jQuery.Event("keyup");
			e.keyCode = keyCode;
			e.which = keyCode;
			chk.trigger(e);
		}

		function click(el) {
			var ev = document.createEvent("MouseEvent");
			ev.initMouseEvent(
				"click",
				true /* bubble */ , true /* cancelable */ ,
				window, null,
				0, 0, 0, 0, /* coordinates */
				false, false, false, false, /* modifier keys */
				0 /*left*/ , null
			);
			el.dispatchEvent(ev);
		}
	</script>
</head>

</html>
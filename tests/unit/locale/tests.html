<!DOCTYPE html>
<html>
<head>
    <link type="text/css" href="../../../src/css/themes/infragistics/infragistics.theme.css" rel="stylesheet" />
    <link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.shared.css" rel="stylesheet" />
    <link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.combo.css" rel="stylesheet" />
	<link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.editors.css" rel="stylesheet" />
	<link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.tree.css" rel="stylesheet" />
	<link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.layout.css" rel="stylesheet" />
	<link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.tilemanager.css" rel="stylesheet" />
	<link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.splitter.css" rel="stylesheet" />
    <link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.validator.css" rel="stylesheet" />
    <link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.popover.css" rel="stylesheet" />
    <link type="text/css" href="../../../src/css/structure/modules/infragistics.ui.notifier.css" rel="stylesheet" />
    <link type="text/css" href="../../../bower_components/qunit/qunit/qunit.css" rel="stylesheet" media="screen" />

    <script type="text/javascript" src="../../../bower_components/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="../../../bower_components/jquery-ui/jquery-ui.js"></script>
    <script type="text/javascript" src="../../../bower_components/jquery-mockjax/src/jquery.mockjax.js"></script>
    <script type="text/javascript" src="../../../tests/unit/common/test-util.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.util.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.util.jquery.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/infragistics.util.jquerydeferred.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.templating.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/infragistics.ui.widget.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.ui.shared.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.datasource.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.ui.combo.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.datasource-en.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.combo-en.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.notifier-en.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.tree-en.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.popover-en.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.validator-en.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.editors-en.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.editors-ja.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.editors-bg.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.tilemanager-en.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.splitter-en.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.datasource-de.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.combo-de.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.notifier-de.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.tree-de.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.popover-de.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.validator-de.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.editors-de.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.tilemanager-de.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.splitter-de.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.editors-ja.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/i18n/infragistics.ui.editors-bg.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.ui.validator.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.ui.popover.js"></script>
    <script type="text/javascript" src="../../../src/js/modules/infragistics.ui.notifier.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/infragistics.ui.editors.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/infragistics.ui.tree.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/infragistics.ui.layoutmanager.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/infragistics.ui.tilemanager.js"></script>
	<script type="text/javascript" src="../../../src/js/modules/infragistics.ui.splitter.js"></script>

    <script type="text/javascript" src="../../../bower_components/qunit/qunit/qunit.js"></script>

	<script type="text/javascript">

	$(function () {
		var dataSource = [
			{ ID: 1, Name: "John", IsFemale: false },
			{ ID: 2, Name: "Mary", IsFemale: true },
			{ ID: 3, Name: "Bob", IsFemale: false }
		], results = [{
			Text: 'Food', Expanded: true, Target: "_blank", Nodes: [
				{ Text: 'Sandwiches', Nodes: [
					{ Text: 'Ham & Cheese' }
				]},
				{ Text: 'Fish' },
				{ Text: 'Hamburgers' },
				{ Text: 'Sishi' },
				{ Text: 'Steaks' }
			]},
			{
				Text: 'Beverages', Nodes: [
				{ Text: 'Coke' },
				{ Text: 'Pepsi' },
				{ Text: 'Mountain Dew' },
				{ Text: 'Wine' },
				{ Text: 'Beer' },
				{ Text: 'Lemonade' }
			]},
			{
				Text: 'Tech', Nodes: [
				{ Text: 'Laptops' },
				{ Text: 'Desktops' },
				{ Text: 'Tablets' },
				{ Text: 'Smartphones' },
				{ Text: 'Mainframes' }
			]},
			{
				Text: 'Literature', Nodes: [
				{ Text: 'Dostoevsky' },
				{ Text: 'Vazov' },
				{ Text: 'Tolstoy' },
				{ Text: 'Goethe' },
				{ Text: 'Stainbeck' }
			]},
			{
				Text: 'Accessories', Nodes: [
				{ Text: 'Mouse' },
				{ Text: 'Keyboard' },
				{ Text: 'Microphone' },
				{ Text: 'Camera' },
				{ Text: 'Mousepad' }
			]}
		];

		// Setup controls

		// Tree
		$("#combo").igCombo({
			dataSource: dataSource,
			textKey: 'Name',
			valueKey: 'ID',
			animationShowDuration: 0,
			animationHideDuration: 0,
			mode: 'dropdown',
			multiSelection: {
				enabled: true
			}
		});
		
		// Checkbox
		$("#checkbox").igCheckboxEditor();

		// Currency
		$("#currency").igCurrencyEditor({
			buttonType: "spin,clear"
		});

		// Date Editor
		$("#dateeditor").igDateEditor({
			value: "10/10/2010",
			buttonType: "clear",
			validatorOptions: { required: true, notificationOptions: { mode: "popover" } }
		});

		// Date Picker
		$("#datepicker").igDatePicker({
			buttonType: "spin,clear"
		});

		// Mask Editor
		$("#mask").igMaskEditor({
			buttonType: "clear",
			value: "AAAAAAAA"
		});

		// Numeric Editor
		$("#numeric").igNumericEditor({
			dataMode: "double",
			buttonType: "spin,clear",
			maxValue: 80000
		});

		// Percent Editor
		$("#percent").igPercentEditor({
			displayFactor: 1,
			value: 30,
			buttonType: "spin,clear",
			positivePattern: "%(n)"
		});

		// Text Editor
		$("#text").igTextEditor({
			includeKeys: "abc",
			maxLength: 10,
			selectionOnFocus: "atStart",
			listItems: ["item1", "item2"],
			buttonType: "dropdown,spin,clear",
			preventSubmitOnEnter: true
		});

		// Tree
		$('#tree').igTree({
			dataSource: results
		});

		// Tile Manager
		$('#tilemanager').igTileManager({
			animationDuration: 0,
			width: 1000,
			height: 1000
		});
		

		module("Runtime locale changes", {
			setup: function() {},
			teardown: function() {}
		});
			
		test("Loading correct locales when setting language and locale", 12, function () {
			var locale = $.ig.locale.ja.Editor;
			ok(locale, "The ja locale is not loaded.");
			ok($.ig.Tree.locale, "The tree locale got overwritten");
			notEqual(locale.spinUpperTitle, $.ig.Editor.locale.spinUpperTitle, "The default locale got overwritten");
			equal($("#datepicker").data("igDatePicker")._getLocaleValue("spinUpperTitle"), $.ig.Editor.locale.spinUpperTitle, "_getLocaleValue returned wrong before setting language");
			$("#datepicker").igDatePicker("option", "language", "ja");
			equal($("#datepicker").data("igDatePicker")._getLocaleValue("spinUpperTitle"), locale.spinUpperTitle, "_getLocaleValue returned wrong after setting language for the Date Picker");
			var button = $("#datepicker").data("igDatePicker")._dropDownButton;
			equal(button.attr("title"), locale.datePickerButtonTitle, "The title attribute should be: " + locale.buttonTitle);
			button = $("#datepicker").data("igDatePicker")._spinUpButton;
			equal(button.attr("title"), locale.spinUpperTitle, "The title attribute should be: " + locale.spinUpperTitle);
			button = $("#datepicker").data("igDatePicker")._spinDownButton;
			equal(button.attr("title"), locale.spinLowerTitle, "The title attribute should be: " + locale.spinLowerTitle);
			equal($("#numeric").data("igNumericEditor")._getLocaleValue("spinUpperTitle"), $.ig.Editor.locale.spinUpperTitle, "_getLocaleValue returned wrong before setting language");
			locale = $.ig.locale.bg.Editor;
			$("#numeric").igNumericEditor("option", "locale", locale);
			equal($("#numeric").data("igNumericEditor")._getLocaleValue("spinUpperTitle"), locale.spinUpperTitle, "_getLocaleValue returned wrong before setting language");
			button = $("#numeric").data("igNumericEditor")._spinUpButton;
			equal(button.attr("title"), locale.spinUpperTitle, "The title attribute should be: " + locale.spinUpperTitle);
			button = $("#numeric").data("igNumericEditor")._spinDownButton;
			equal(button.attr("title"), locale.spinLowerTitle, "The title attribute should be: " + locale.spinLowerTitle);
		});

		test("Changing language globally", 10, function () {
			var locale = $.ig.locale;
			$.ig.util.changeGlobalLanguage("de");
			equal($("#datepicker").data("igDatePicker")._getLocaleValue("spinUpperTitle"), $.ig.locale.de.Editor.spinUpperTitle, "_getLocaleValue returned wrong after setting global language");
			equal($("#numeric").data("igNumericEditor")._getLocaleValue("spinUpperTitle"), $.ig.locale.bg.Editor.spinUpperTitle, "_getLocaleValue returned wrong after setting global language but having locale object set spefically for an instance.");
			equal($("#combo").data("igCombo")._getLocaleValue("noMatchFoundText"), $.ig.locale.de.Combo.noMatchFoundText, "_getLocaleValue returned wrong after setting global language.");
			equal($("#text").data("igTextEditor")._getLocaleValue("targetNotSupported"), $.ig.locale.de.Editor.targetNotSupported, "_getLocaleValue returned wrong after setting global language.");
			equal($("#checkbox").data("igCheckboxEditor")._getLocaleValue("targetNotSupported"), $.ig.locale.de.Editor.targetNotSupported, "_getLocaleValue returned wrong after setting global language.");
			equal($("#currency").data("igCurrencyEditor")._getLocaleValue("targetNotSupported"), $.ig.locale.de.Editor.targetNotSupported, "_getLocaleValue returned wrong after setting global language.");
			equal($("#dateeditor").data("igDateEditor")._getLocaleValue("targetNotSupported"), $.ig.locale.de.Editor.targetNotSupported, "_getLocaleValue returned wrong after setting global language.");
			equal($("#mask").data("igMaskEditor")._getLocaleValue("targetNotSupported"), $.ig.locale.de.Editor.targetNotSupported, "_getLocaleValue returned wrong after setting global language.");
			equal($("#tree").data("igTree")._getLocaleValue("invalidArgumentType"), $.ig.locale.de.Tree.invalidArgumentType, "_getLocaleValue returned wrong after setting global language.");
			equal($("#tilemanager").data("igTileManager")._getLocaleValue("setOptionItemsLengthError"), $.ig.locale.de.TileManager.setOptionItemsLengthError, "_getLocaleValue returned wrong after setting global language.");
		});
	});
	
	</script>
	<style type="text/css">
	</style>
</head>
<body>
	<div style="float:right;width:400px;overflow:auto">
		<h1 id="qunit-header">Test results</h1>
		<h2 id="qunit-banner"></h2>
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>
	</div>
    <div id="combo"></div>
	<div id="text"></div>
	<input id="numeric" />
	<input id="checkbox" />
	<input id="currency" />
	<span id="dateeditor"></span>
	<input id="datepicker" />
	<span id="mask"></span>
	<ul id="tree"></ul>

	<div id="tilemanager">
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
		<div>
			<div class="minimized"><p>Minimized state text</p></div>
			<div class="maximized"><img src="../tilemanager/tilemanager/assets/IMG_1556.jpg"><p>Maximized state text</p></div>
		</div>
	</div>
</body>
</html>
